<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ Reverse í•¨ìˆ˜ êµ¬í˜„</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        color: #333;
      }

      .container {
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      }

      h1 {
        text-align: center;
        color: #2c3e50;
        margin-bottom: 30px;
        font-size: 2.5em;
      }

      .algorithm-section {
        margin-bottom: 40px;
        padding: 25px;
        background: #f8f9fa;
        border-radius: 10px;
        border-left: 5px solid #3498db;
      }

      .step-container {
        margin: 30px 0;
        padding: 20px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .step-title {
        font-size: 1.3em;
        font-weight: bold;
        color: #2c3e50;
        margin-bottom: 15px;
        padding: 10px;
        background: linear-gradient(45deg, #3498db, #2ecc71);
        color: white;
        border-radius: 5px;
        text-align: center;
      }

      .linked-list {
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 20px 0;
        flex-wrap: wrap;
        gap: 10px;
      }

      .node {
        display: flex;
        align-items: center;
        background: #3498db;
        color: white;
        padding: 15px;
        border-radius: 8px;
        font-weight: bold;
        min-width: 60px;
        text-align: center;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      .node.current {
        background: #e74c3c;
        animation: pulse 1.5s infinite;
      }

      .node.prev {
        background: #f39c12;
      }

      .node.next {
        background: #27ae60;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }

      .arrow {
        font-size: 24px;
        color: #2c3e50;
        margin: 0 10px;
      }

      .pointer {
        margin: 10px 0;
        padding: 8px 15px;
        background: #ecf0f1;
        border-radius: 5px;
        font-family: monospace;
        font-size: 14px;
      }

      .code-section {
        background: #2c3e50;
        color: #ecf0f1;
        padding: 25px;
        border-radius: 10px;
        font-family: "Courier New", monospace;
        margin: 20px 0;
        overflow-x: auto;
      }

      .code-title {
        color: #3498db;
        font-size: 1.2em;
        margin-bottom: 15px;
        font-weight: bold;
      }

      .highlight {
        background: #f39c12;
        padding: 2px 4px;
        border-radius: 3px;
        color: #2c3e50;
      }

      .controls {
        text-align: center;
        margin: 30px 0;
      }

      button {
        background: linear-gradient(45deg, #3498db, #2ecc71);
        color: white;
        border: none;
        padding: 12px 25px;
        margin: 0 10px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 16px;
        font-weight: bold;
        transition: all 0.3s ease;
      }

      button:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      button:disabled {
        background: #bdc3c7;
        cursor: not-allowed;
        transform: none;
      }

      .complexity {
        background: #e8f6f3;
        border: 2px solid #16a085;
        border-radius: 10px;
        padding: 20px;
        margin: 20px 0;
      }

      .complexity h3 {
        color: #16a085;
        margin-top: 0;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸ”„ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ Reverse í•¨ìˆ˜ êµ¬í˜„</h1>

      <div class="algorithm-section">
        <h2>ğŸ“‹ ì•Œê³ ë¦¬ì¦˜ ê°œìš”</h2>
        <p>
          <strong>í•µì‹¬ ì•„ì´ë””ì–´:</strong> ì„¸ ê°œì˜ í¬ì¸í„°(prev, current, next)ë¥¼
          ì‚¬ìš©í•˜ì—¬ ê° ë…¸ë“œì˜ ë§í¬ ë°©í–¥ì„ ë’¤ë°”ê¿‰ë‹ˆë‹¤.
        </p>
        <ol>
          <li>
            <code>prev = null</code>, <code>current = head</code>ë¡œ ì´ˆê¸°í™”
          </li>
          <li>í˜„ì¬ ë…¸ë“œê°€ nullì´ ì•„ë‹Œ ë™ì•ˆ ë°˜ë³µ:</li>
          <ul>
            <li><code>next = current.next</code> (ë‹¤ìŒ ë…¸ë“œ ì €ì¥)</li>
            <li><code>current.next = prev</code> (ë§í¬ ë°©í–¥ ë’¤ë°”ê¾¸ê¸°)</li>
            <li>
              <code>prev = current</code>, <code>current = next</code> (í¬ì¸í„°
              ì´ë™)
            </li>
          </ul>
          <li><code>prev</code>ê°€ ìƒˆë¡œìš´ headê°€ ë©ë‹ˆë‹¤</li>
        </ol>
      </div>

      <div class="controls">
        <button onclick="resetAnimation()">ğŸ”„ ì²˜ìŒë¶€í„°</button>
        <button id="nextBtn" onclick="nextStep()">â–¶ï¸ ë‹¤ìŒ ë‹¨ê³„</button>
        <button onclick="autoPlay()">â¯ï¸ ìë™ ì¬ìƒ</button>
      </div>

      <div id="stepContainer" class="step-container">
        <div class="step-title">ì´ˆê¸° ìƒíƒœ</div>
        <div class="linked-list" id="linkedList"></div>
        <div id="pointers"></div>
        <div id="explanation"></div>
      </div>

      <div class="code-section">
        <div class="code-title">ğŸ’» JavaScript êµ¬í˜„ ì½”ë“œ</div>
        <pre><code>function reverseLinkedList(head) {
    let prev = null;
    let current = head;
    
    while (current !== null) {
        let next = current.next;  // ë‹¤ìŒ ë…¸ë“œ ì €ì¥
        current.next = prev;      // ë§í¬ ë°©í–¥ ë’¤ë°”ê¾¸ê¸°
        prev = current;           // prev í¬ì¸í„° ì´ë™
        current = next;           // current í¬ì¸í„° ì´ë™
    }
    
    return prev;  // ìƒˆë¡œìš´ head ë°˜í™˜
}</code></pre>
      </div>

      <div class="complexity">
        <h3>âš¡ ì‹œê°„ & ê³µê°„ ë³µì¡ë„</h3>
        <p><strong>ì‹œê°„ ë³µì¡ë„:</strong> O(n) - ëª¨ë“  ë…¸ë“œë¥¼ í•œ ë²ˆì”© ë°©ë¬¸</p>
        <p><strong>ê³µê°„ ë³µì¡ë„:</strong> O(1) - ì¶”ê°€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ìƒìˆ˜</p>
      </div>
    </div>

    <script>
      const steps = [
        {
          title: "ì´ˆê¸° ìƒíƒœ",
          nodes: [1, 2, 3, 4],
          prev: null,
          current: 0,
          next: null,
          explanation:
            "ì›ë³¸ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸: 1 â†’ 2 â†’ 3 â†’ 4 â†’ null<br>prev = null, current = head(1)",
        },
        {
          title: "1ë‹¨ê³„: next ì €ì¥",
          nodes: [1, 2, 3, 4],
          prev: null,
          current: 0,
          next: 1,
          explanation:
            "next = current.next (2ë²ˆ ë…¸ë“œ)<br>ë‹¤ìŒ ë…¸ë“œë¥¼ ìƒì–´ë²„ë¦¬ì§€ ì•Šë„ë¡ ì €ì¥",
        },
        {
          title: "1ë‹¨ê³„: ë§í¬ ë’¤ë°”ê¾¸ê¸°",
          nodes: [1, 2, 3, 4],
          prev: null,
          current: 0,
          next: 1,
          explanation:
            "current.next = prev<br>1ë²ˆ ë…¸ë“œê°€ nullì„ ê°€ë¦¬í‚¤ë„ë¡ ë³€ê²½",
          reversed: [0],
        },
        {
          title: "1ë‹¨ê³„: í¬ì¸í„° ì´ë™",
          nodes: [1, 2, 3, 4],
          prev: 0,
          current: 1,
          next: 1,
          explanation:
            "prev = current, current = next<br>í¬ì¸í„°ë“¤ì„ ë‹¤ìŒ ìœ„ì¹˜ë¡œ ì´ë™",
          reversed: [0],
        },
        {
          title: "2ë‹¨ê³„: next ì €ì¥",
          nodes: [1, 2, 3, 4],
          prev: 0,
          current: 1,
          next: 2,
          explanation: "next = current.next (3ë²ˆ ë…¸ë“œ)<br>ë‹¤ìŒ ë…¸ë“œë¥¼ ì €ì¥",
          reversed: [0],
        },
        {
          title: "2ë‹¨ê³„: ë§í¬ ë’¤ë°”ê¾¸ê¸°",
          nodes: [1, 2, 3, 4],
          prev: 0,
          current: 1,
          next: 2,
          explanation:
            "current.next = prev<br>2ë²ˆ ë…¸ë“œê°€ 1ë²ˆ ë…¸ë“œë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ë³€ê²½",
          reversed: [0, 1],
        },
        {
          title: "2ë‹¨ê³„: í¬ì¸í„° ì´ë™",
          nodes: [1, 2, 3, 4],
          prev: 1,
          current: 2,
          next: 2,
          explanation:
            "prev = current, current = next<br>í¬ì¸í„°ë“¤ì„ ë‹¤ìŒ ìœ„ì¹˜ë¡œ ì´ë™",
          reversed: [0, 1],
        },
        {
          title: "3ë‹¨ê³„: next ì €ì¥",
          nodes: [1, 2, 3, 4],
          prev: 1,
          current: 2,
          next: 3,
          explanation: "next = current.next (4ë²ˆ ë…¸ë“œ)<br>ë‹¤ìŒ ë…¸ë“œë¥¼ ì €ì¥",
          reversed: [0, 1],
        },
        {
          title: "3ë‹¨ê³„: ë§í¬ ë’¤ë°”ê¾¸ê¸°",
          nodes: [1, 2, 3, 4],
          prev: 1,
          current: 2,
          next: 3,
          explanation:
            "current.next = prev<br>3ë²ˆ ë…¸ë“œê°€ 2ë²ˆ ë…¸ë“œë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ë³€ê²½",
          reversed: [0, 1, 2],
        },
        {
          title: "3ë‹¨ê³„: í¬ì¸í„° ì´ë™",
          nodes: [1, 2, 3, 4],
          prev: 2,
          current: 3,
          next: 3,
          explanation:
            "prev = current, current = next<br>í¬ì¸í„°ë“¤ì„ ë‹¤ìŒ ìœ„ì¹˜ë¡œ ì´ë™",
          reversed: [0, 1, 2],
        },
        {
          title: "4ë‹¨ê³„: next ì €ì¥",
          nodes: [1, 2, 3, 4],
          prev: 2,
          current: 3,
          next: null,
          explanation:
            "next = current.next (null)<br>ë§ˆì§€ë§‰ ë…¸ë“œì´ë¯€ë¡œ nextëŠ” null",
          reversed: [0, 1, 2],
        },
        {
          title: "4ë‹¨ê³„: ë§í¬ ë’¤ë°”ê¾¸ê¸°",
          nodes: [1, 2, 3, 4],
          prev: 2,
          current: 3,
          next: null,
          explanation:
            "current.next = prev<br>4ë²ˆ ë…¸ë“œê°€ 3ë²ˆ ë…¸ë“œë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ë³€ê²½",
          reversed: [0, 1, 2, 3],
        },
        {
          title: "ì™„ë£Œ!",
          nodes: [1, 2, 3, 4],
          prev: 3,
          current: null,
          next: null,
          explanation:
            "í˜„ì¬ í¬ì¸í„°ê°€ nullì´ ë˜ì–´ ë°˜ë³µ ì¢…ë£Œ<br>prev(4ë²ˆ ë…¸ë“œ)ê°€ ìƒˆë¡œìš´ headê°€ ë©ë‹ˆë‹¤<br><strong>ê²°ê³¼: 4 â†’ 3 â†’ 2 â†’ 1 â†’ null</strong>",
          reversed: [0, 1, 2, 3],
        },
      ];

      let currentStep = 0;
      let autoPlayInterval = null;

      function renderStep(step) {
        const container = document.getElementById("stepContainer");
        const title = container.querySelector(".step-title");
        const listContainer = document.getElementById("linkedList");
        const pointersContainer = document.getElementById("pointers");
        const explanationContainer = document.getElementById("explanation");

        title.textContent = step.title;

        // Render linked list
        listContainer.innerHTML = "";
        for (let i = 0; i < step.nodes.length; i++) {
          const node = document.createElement("div");
          node.className = "node";
          node.textContent = step.nodes[i];

          if (i === step.current) {
            node.classList.add("current");
          } else if (i === step.prev) {
            node.classList.add("prev");
          } else if (i === step.next) {
            node.classList.add("next");
          }

          listContainer.appendChild(node);

          if (i < step.nodes.length - 1) {
            const arrow = document.createElement("span");
            arrow.className = "arrow";

            // Show reversed arrows
            if (step.reversed && step.reversed.includes(i + 1)) {
              arrow.textContent = "â†";
              arrow.style.color = "#e74c3c";
            } else {
              arrow.textContent = "â†’";
            }

            listContainer.appendChild(arrow);
          }
        }

        // Add null at the end
        const nullNode = document.createElement("span");
        nullNode.textContent = "null";
        nullNode.style.color = "#7f8c8d";
        nullNode.style.fontStyle = "italic";
        listContainer.appendChild(nullNode);

        // Render pointers
        pointersContainer.innerHTML = `
                <div class="pointer"><strong>prev:</strong> ${
                  step.prev === null ? "null" : step.nodes[step.prev]
                }</div>
                <div class="pointer"><strong>current:</strong> ${
                  step.current === null ? "null" : step.nodes[step.current]
                }</div>
                <div class="pointer"><strong>next:</strong> ${
                  step.next === null ? "null" : step.nodes[step.next]
                }</div>
            `;

        // Render explanation
        explanationContainer.innerHTML = `<p>${step.explanation}</p>`;

        // Update button state
        document.getElementById("nextBtn").disabled =
          currentStep >= steps.length - 1;
      }

      function nextStep() {
        if (currentStep < steps.length - 1) {
          currentStep++;
          renderStep(steps[currentStep]);
        }
      }

      function resetAnimation() {
        currentStep = 0;
        renderStep(steps[currentStep]);
        if (autoPlayInterval) {
          clearInterval(autoPlayInterval);
          autoPlayInterval = null;
        }
      }

      function autoPlay() {
        if (autoPlayInterval) {
          clearInterval(autoPlayInterval);
          autoPlayInterval = null;
          return;
        }

        autoPlayInterval = setInterval(() => {
          if (currentStep < steps.length - 1) {
            nextStep();
          } else {
            clearInterval(autoPlayInterval);
            autoPlayInterval = null;
          }
        }, 2000);
      }

      // Initialize
      renderStep(steps[0]);
    </script>
  </body>
</html>
